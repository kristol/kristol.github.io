:root {
    --comic-black: #1a1a1a;
    --comic-white: #ffffff;
    --snoopy-red: #e74c3c;
    --winter-blue: #ecf0f1;
    --bg-color: #87CEEB; /* Sky blue */
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Comic Neue', cursive, sans-serif;
    background-color: var(--bg-color);
    color: var(--comic-black);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
}

/* Snow Effect */
.snow-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.snowflake {
    position: absolute;
    top: -10px;
    background: white;
    border-radius: 50%;
    opacity: 0.8;
    animation: fall linear infinite;
}

@keyframes fall {
    to {
        transform: translateY(100vh);
    }
}

/* Layout */
.main-wrapper {
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
    position: relative;
    z-index: 2;
}

header {
    text-align: center;
    margin-bottom: 30px;
    background: var(--comic-white);
    padding: 20px;
    border: 3px solid var(--comic-black);
    border-radius: 15px;
    box-shadow: 5px 5px 0px var(--comic-black);
}

h1 {
    font-weight: 700;
    font-size: 2.5rem;
    margin-bottom: 10px;
}

.subtitle {
    font-size: 1.2rem;
    font-style: italic;
}

/* Calendar Grid */
.calendar-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 20px;
    padding-bottom: 50px;
}

.day-card {
    background: var(--comic-white);
    border: 3px solid var(--comic-black);
    border-radius: 10px;
    aspect-ratio: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    position: relative;
    overflow: hidden;
    box-shadow: 3px 3px 0px var(--comic-black);
}

.day-card:hover {
    transform: translate(-2px, -2px);
    box-shadow: 5px 5px 0px var(--comic-black);
}

.day-card:active {
    transform: translate(0, 0);
    box-shadow: 3px 3px 0px var(--comic-black);
}

.day-card.locked {
    background-color: #bdc3c7;
    cursor: not-allowed;
}

.day-card.completed {
    background-color: #2ecc71; /* Green for success */
    border-color: #27ae60;
}

.day-card.completed::after {
    content: 'âœ“';
    font-size: 3rem;
    color: white;
    position: absolute;
}

.day-number {
    font-size: 3rem;
    font-weight: 700;
}

/* Modal & Popups */
.modal, .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 100;
}

/* Ensure modal overlays everything, including the game overlay */
.modal {
    z-index: 1000;
}

.hidden {
    display: none !important;
}

.modal-content {
    background: var(--comic-white);
    padding: 30px;
    border-radius: 15px;
    max-width: 400px;
    width: 90%;
    text-align: center;
    position: relative;
}

.comic-border {
    border: 4px solid var(--comic-black);
    box-shadow: 8px 8px 0px var(--comic-black);
}

.close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 2rem;
    cursor: pointer;
    font-weight: bold;
}

.comic-text {
    font-size: 1.2rem;
    margin: 20px 0;
    font-weight: bold;
}

.comic-btn {
    background: var(--snoopy-red);
    color: white;
    border: 2px solid var(--comic-black);
    padding: 10px 25px;
    font-size: 1.2rem;
    font-family: 'Comic Neue', cursive;
    font-weight: bold;
    cursor: pointer;
    border-radius: 5px;
    transition: transform 0.1s;
}

.comic-btn:hover {
    transform: scale(1.05);
}

.comic-btn-small {
    background: var(--comic-black);
    color: white;
    border: none;
    padding: 5px 15px;
    font-family: 'Comic Neue', cursive;
    cursor: pointer;
    border-radius: 5px;
}

/* Game Window */
.game-window {
    background: var(--comic-white);
    width: 90%;
    max-width: 800px;
    height: 80vh;
    display: flex;
    flex-direction: column;
    border-radius: 10px;
    overflow: hidden;
}

.game-header {
    padding: 15px;
    border-bottom: 3px solid var(--comic-black);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #f1c40f; /* Woodstock yellow */
}

.game-content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #f9f9f9;
}

/* Placeholder CSS Snoopy (if no image) */
.css-snoopy {
    width: 50px;
    height: 50px;
    background: white;
    border: 3px solid black;
    border-radius: 50%;
    margin: 0 auto;
    position: relative;
}
.css-snoopy::before {
    content: '';
    position: absolute;
    top: 15px;
    left: 10px;
    width: 8px;
    height: 8px;
    background: black;
    border-radius: 50%;
}
.css-snoopy::after {
    content: '';
    position: absolute;
    top: 20px;
    right: -10px;
    width: 30px;
    height: 20px;
    background: black;
    border-radius: 15px;
}

/* Snoopy Image in Modal */
#modal-img {
    max-width: 150px;
    height: auto;
    margin-bottom: 10px;
}

/* Simon Game */
.simon-wrapper {
    text-align: center;
    width: 100%;
}
.simon-grid {
    display: grid;
    grid-template-columns: repeat(2, 140px);
    grid-template-rows: repeat(2, 140px);
    gap: 15px;
    justify-content: center;
    margin: 20px auto;
}
.simon-pad {
    width: 140px;
    height: 140px;
    border: 4px solid var(--comic-black);
    border-radius: 15px;
    cursor: pointer;
    opacity: 0.85;
    transition: transform 0.05s, filter 0.05s, opacity 0.2s;
}
.simon-pad.active {
    filter: brightness(1.3);
    transform: scale(1.03);
    opacity: 1;
}
.pad-green { background: #27ae60; }
.pad-red   { background: #e74c3c; }
.pad-yellow{ background: #f1c40f; }
.pad-blue  { background: #3498db; }
.simon-info { font-weight: bold; margin-top: 10px; }

/* Maze Game */
.maze-container {
    position: relative;
    width: 600px;
    max-width: 100%;
    height: 320px;
    background: #fff;
    border: 3px solid var(--comic-black);
    box-shadow: inset 0 0 0 6px #eee;
    overflow: hidden;
}
.maze-wall {
    position: absolute;
    background: #2c3e50;
    opacity: 0.9;
}
.maze-start, .maze-end {
    position: absolute;
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #fff;
    font-weight: 700;
    border: 3px solid var(--comic-black);
}
.maze-start { background: #27ae60; }
.maze-end { background: #8e44ad; }
.maze-instructions { margin: 10px 0; font-weight: bold; }

/* Timing Bar Game */
.timing-wrapper { text-align: center; width: 100%; }
.timing-track {
    position: relative;
    width: 600px;
    max-width: 100%;
    height: 40px;
    background: #ecf0f1;
    border: 3px solid var(--comic-black);
    margin: 20px auto;
}
.timing-target {
    position: absolute;
    top: 0;
    height: 100%;
    background: rgba(231, 76, 60, 0.4);
    border-left: 3px dashed #c0392b;
    border-right: 3px dashed #c0392b;
}
.timing-bar {
    position: absolute;
    top: 0;
    height: 100%;
    width: 6px;
    background: #2c3e50;
}
.timing-info { font-weight: bold; margin-top: 10px; }

/* Hangman Game */
.hangman-wrapper { width: 100%; text-align: center; }
.hangman-top { display: flex; gap: 20px; justify-content: center; align-items: center; margin-bottom: 20px; }
.gallows { width: 180px; height: 180px; position: relative; border: 3px solid var(--comic-black); background: #fff; }
.gallows .base { position: absolute; left: 10px; bottom: 10px; width: 160px; height: 8px; background: #333; }
.gallows .pole { position: absolute; left: 30px; bottom: 18px; width: 8px; height: 140px; background: #333; }
.gallows .beam { position: absolute; left: 30px; top: 20px; width: 100px; height: 8px; background: #333; }
.gallows .rope { position: absolute; left: 126px; top: 28px; width: 4px; height: 24px; background: #333; }
.gallows .head { position: absolute; left: 112px; top: 50px; width: 32px; height: 32px; border-radius: 50%; border: 4px solid #333; display: none; }
.gallows .body { position: absolute; left: 127px; top: 80px; width: 4px; height: 46px; background: #333; display: none; }
.gallows .arm.left { position: absolute; left: 127px; top: 88px; width: 36px; height: 4px; background: #333; transform-origin: left center; transform: rotate(-35deg); display: none; }
.gallows .arm.right { position: absolute; left: 95px; top: 88px; width: 36px; height: 4px; background: #333; transform-origin: right center; transform: rotate(35deg); display: none; }
.gallows .leg.left { position: absolute; left: 127px; top: 124px; width: 36px; height: 4px; background: #333; transform-origin: left center; transform: rotate(35deg); display: none; }
.gallows .leg.right { position: absolute; left: 95px; top: 124px; width: 36px; height: 4px; background: #333; transform-origin: right center; transform: rotate(-35deg); display: none; }
.hangman-stats { font-weight: bold; }
.word { letter-spacing: 6px; font-size: 1.6rem; font-weight: 700; }
.misses { margin-top: 6px; font-size: 0.95rem; color: #7f8c8d; }
.keyboard-grid { display: grid; grid-template-columns: repeat(13, 1fr); gap: 6px; max-width: 650px; margin: 18px auto; }
.key { padding: 10px 0; background: #fff; border: 2px solid var(--comic-black); border-radius: 6px; cursor: pointer; font-weight: 700; }
.key:hover { transform: translateY(-1px); }
.key.disabled { opacity: 0.4; cursor: default; filter: grayscale(0.6); pointer-events: none; }
.hangman-controls { margin-top: 10px; }

/* TicTacToe Game */
.ttt-wrapper { width: 100%; text-align: center; }
.ttt-info { font-weight: bold; margin: 10px 0; }
.ttt-board {
    width: 330px;
    max-width: 90vw;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 8px;
    margin: 0 auto 10px;
}
.ttt-cell {
    width: 100px;
    height: 100px;
    max-width: 30vw;
    max-height: 30vw;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #fff;
    border: 3px solid var(--comic-black);
    border-radius: 10px;
    font-size: 2.5rem;
    font-weight: 800;
    cursor: pointer;
    user-select: none;
}
.ttt-cell:hover { filter: brightness(0.98); }
.ttt-cell.disabled { cursor: default; opacity: 0.7; }
.ttt-controls { margin-top: 10px; }

/* Minesweeper */
.ms-wrapper { width: 100%; text-align: center; }
.ms-topbar { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; align-items: center; font-weight: bold; }
.game-content { position: relative; }
.ms-container { display: flex; gap: 16px; justify-content: center; align-items: flex-start; width: 100%; }
.ms-sidebar {
    position: sticky;
    top: 0; /* stick within scrollable game-content */
    z-index: 5;
    background: #f9f9f9;
    padding: 10px 12px;
    border: 3px solid var(--comic-black);
    border-radius: 10px;
    min-width: 220px;
    max-width: 260px;
}
.ms-controls { display: flex; flex-direction: column; gap: 8px; margin-top: 8px; }
.ms-sidebar .comic-btn-small { display: block; width: 100%; font-weight: 800; border: 2px solid var(--comic-black); }
/* Colorful buttons */
.btn-restart { background: #e74c3c; }
.btn-restart:hover { filter: brightness(0.95); }
.btn-flag { background: #2980b9; }
.btn-flag:hover { filter: brightness(0.95); }
.btn-help { background: #f1c40f; color: #1a1a1a; }
.btn-help:hover { filter: brightness(0.95); }
/* Flag mode active indication */
.ms-btn-toggle.active,
.btn-flag.active {
    background: #27ae60 !important;
    color: #ffffff !important;
    box-shadow: 0 0 0 3px rgba(39, 174, 96, 0.35) inset;
}
.ms-board {
    display: grid;
    justify-content: center;
    margin: 0 auto;
    gap: 4px;
    background: #dfe6e9;
    padding: 8px;
    border: 3px solid var(--comic-black);
    border-radius: 10px;
}
.ms-cell {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #ffffff;
    border: 2px solid var(--comic-black);
    border-radius: 6px;
    font-weight: 800;
    cursor: pointer;
    user-select: none;
}
.ms-cell.revealed { background: #ecf0f1; cursor: default; }
.ms-cell.flagged { background: #ffeaa7; }
.ms-cell.mine.revealed { background: #ff7675; color: #fff; }
.ms-cell.exploded { background: #e74c3c; color: #fff; }
.ms-controls { margin-top: 10px; }
.ms-btn-toggle { margin-left: 10px; }
.ms-num-1 { color: #2e86de; }
.ms-num-2 { color: #27ae60; }
.ms-num-3 { color: #e67e22; }
.ms-num-4 { color: #8e44ad; }
.ms-num-5 { color: #c0392b; }
.ms-num-6 { color: #16a085; }
.ms-num-7 { color: #2c3e50; }
.ms-num-8 { color: #7f8c8d; }

/* 2048 Game */
.g2048-wrapper { width: 100%; text-align: center; }
.g2048-topbar { display: flex; gap: 12px; justify-content: center; align-items: center; margin-bottom: 10px; font-weight: bold; }
.g2048-board {
        display: grid;
        grid-template-columns: repeat(4, 80px);
        grid-template-rows: repeat(4, 80px);
        gap: 10px;
        background: #bbada0;
        padding: 10px;
        border-radius: 10px;
        margin: 0 auto;
    touch-action: none; /* ensure swipe doesn't scroll */
}
@media (max-width: 480px) {
    .g2048-board { grid-template-columns: repeat(4, 64px); grid-template-rows: repeat(4, 64px); gap: 8px; }
}
.g2048-cell {
        width: 80px;
        height: 80px;
        border-radius: 8px;
        background: #cdc1b4;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.6rem;
        font-weight: 800;
        color: #776e65;
}
@media (max-width: 480px) {
    .g2048-cell { width: 64px; height: 64px; font-size: 1.3rem; }
}
.g2048-cell.v-0 { background: #cdc1b4; color: transparent; }
.g2048-cell.v-2 { background: #eee4da; }
.g2048-cell.v-4 { background: #ede0c8; }
.g2048-cell.v-8 { background: #f2b179; color: #f9f9f9; }
.g2048-cell.v-16 { background: #f59563; color: #f9f9f9; }
.g2048-cell.v-32 { background: #f67c5f; color: #f9f9f9; }
.g2048-cell.v-64 { background: #f65e3b; color: #f9f9f9; }
.g2048-cell.v-128 { background: #edcf72; color: #f9f9f9; font-size: 1.4rem; }
.g2048-cell.v-256 { background: #edcc61; color: #f9f9f9; font-size: 1.4rem; }
.g2048-cell.v-512 { background: #edc850; color: #f9f9f9; font-size: 1.4rem; }
.g2048-cell.v-1024 { background: #edc53f; color: #f9f9f9; font-size: 1.2rem; }
.g2048-cell.v-2048 { background: #edc22e; color: #f9f9f9; font-size: 1.2rem; box-shadow: 0 0 0 3px rgba(237,194,46,0.35) inset; }
.g2048-controls { margin-top: 10px; }

/* 2048 sidebar layout */
.g2048-container { display: flex; gap: 16px; justify-content: center; align-items: flex-start; width: 100%; }
.g2048-sidebar {
    position: sticky;
    top: 0;
    z-index: 5;
    background: #f9f9f9;
    padding: 10px 12px;
    border: 3px solid var(--comic-black);
    border-radius: 10px;
    min-width: 220px;
    max-width: 260px;
}
.g2048-controls { display: flex; flex-direction: column; gap: 8px; }
.g2048-sidebar .comic-btn-small { width: 100%; font-weight: 800; border: 2px solid var(--comic-black); }
.btn-2048-restart { background: #e74c3c; }
.btn-2048-restart:hover { filter: brightness(0.95); }
.btn-2048-help { background: #f1c40f; color: #1a1a1a; }
.btn-2048-help:hover { filter: brightness(0.95); }
